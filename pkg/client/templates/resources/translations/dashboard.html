{% extends "layout.html" %}

{% block title %}Translation Dashboard - {{ title }}{% endblock %}

{% block content %}
<header class="px-8 py-6 bg-white border-b border-gray-200 flex flex-wrap gap-4 items-center justify-between">
  <div>
    <h1 class="text-3xl font-bold text-admin-dark">Translation Dashboard</h1>
    <p class="text-sm text-gray-500 mt-1">Track assignments, review states, and upcoming due work.</p>
  </div>
</header>

<div class="flex-1 p-8 overflow-y-auto">
  <div class="max-w-7xl mx-auto">
    <div id="translation-dashboard-root"
         data-my-work-endpoint="{{ translation_dashboard_api_path|default:"" }}"
         data-queue-endpoint="{{ translation_queue_api_path|default:"" }}"
         data-panel-base-url="{{ translation_panels_base_path|default:"" }}"
         data-refresh-interval="30000">
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script type="module">
import { initTranslatorDashboard, getTranslatorDashboardStyles } from '{{ base_path }}/assets/dist/datatable/index.js';

const root = document.getElementById('translation-dashboard-root');
if (root) {
  const styleId = 'translator-dashboard-styles';
  if (!document.getElementById(styleId)) {
    const style = document.createElement('style');
    style.id = styleId;
    style.textContent = getTranslatorDashboardStyles();
    document.head.appendChild(style);
  }
  initTranslatorDashboard(root);
}
</script>
{% endblock %}
