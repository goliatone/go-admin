<div class="space-y-2" data-schema-editor="true" data-schema-field="{{ field.name }}"{% if config_json %} data-component-config='{{ config_json }}'{% endif %}>
    <div class="flex flex-wrap items-center gap-2 text-xs text-gray-600 dark:text-gray-400">
        <button type="button" class="px-2 py-1 rounded border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-slate-900 dark:text-gray-200" data-schema-format>Format JSON</button>
        <button type="button" class="px-2 py-1 rounded border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-slate-900 dark:text-gray-200" data-schema-validate>Validate</button>
        <button type="button" class="px-2 py-1 rounded border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-slate-900 dark:text-gray-200" data-schema-metadata>Insert metadata</button>
        <span class="text-xs text-gray-500 dark:text-gray-400" data-schema-status></span>
    </div>

    <textarea
        name="{{ field.name }}"
        data-schema-input="true"
        class="font-mono text-sm leading-6 w-full border border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg p-3 bg-white text-gray-900 dark:bg-slate-900 dark:text-gray-100 dark:border-gray-700"
        rows="14"
        {% if field.placeholder %}placeholder="{{ field.placeholder }}"{% endif %}
    >{{ serialized }}</textarea>

    <p class="text-xs text-gray-500 dark:text-gray-400">
        Include <code class="font-mono">metadata.schema_version</code> for versioned blocks (e.g., <code class="font-mono">hero@v1.0.0</code>).
    </p>
</div>
