{"version":3,"file":"badge-DimNmen5.js","sources":["../../src/shared/badge.ts"],"sourcesContent":["/**\n * Shared Badge Utility\n *\n * Centralizes badge/pill HTML generation across the admin UI.\n * All visual styling is defined in input.css via composable CSS classes.\n *\n * Usage patterns:\n *   badgeClasses('status', 'draft')         → \"status-badge status-draft\"\n *   badge('Draft', 'status', 'draft')       → '<span class=\"status-badge status-draft\">Draft</span>'\n *   booleanChip(true)                       → '<span class=\"badge badge-boolean-true\">✓ Yes</span>'\n */\n\n// ---------------------------------------------------------------------------\n// Types\n// ---------------------------------------------------------------------------\n\nexport type BadgeCategory = 'status' | 'role' | 'generic';\nexport type BadgeSize = 'sm';\n\nexport interface BadgeOptions {\n  size?: BadgeSize;\n  extraClass?: string;\n  attrs?: Record<string, string>;\n  uppercase?: boolean;\n}\n\n// ---------------------------------------------------------------------------\n// Class Name Resolver\n// ---------------------------------------------------------------------------\n\n/**\n * Returns the CSS class string for a badge.\n *\n *   badgeClasses('status', 'active')         → 'status-badge status-active'\n *   badgeClasses('status', 'required', 'sm') → 'status-badge status-badge--sm status-required'\n *   badgeClasses('role', 'admin')            → 'role-badge role-admin'\n *   badgeClasses('generic', 'blue')          → 'badge badge-blue'\n */\nexport function badgeClasses(\n  category: BadgeCategory,\n  variant: string,\n  size?: BadgeSize,\n): string {\n  const v = variant.toLowerCase();\n\n  const base = category === 'status' ? 'status-badge'\n    : category === 'role' ? 'role-badge'\n    : 'badge';\n\n  const prefix = category === 'status' ? 'status'\n    : category === 'role' ? 'role'\n    : 'badge';\n\n  const parts: string[] = [base];\n  if (size === 'sm') parts.push(`${base}--sm`);\n  parts.push(`${prefix}-${v}`);\n  return parts.join(' ');\n}\n\n// ---------------------------------------------------------------------------\n// HTML Builder\n// ---------------------------------------------------------------------------\n\n/**\n * Returns a complete badge `<span>` HTML string.\n *\n *   badge('Active', 'status', 'active')\n *   → '<span class=\"status-badge status-active\">Active</span>'\n *\n *   badge('REQ', 'status', 'required', { size: 'sm', uppercase: true })\n *   → '<span class=\"status-badge status-badge--sm status-required badge--uppercase\">REQ</span>'\n */\nexport function badge(\n  text: string,\n  category: BadgeCategory,\n  variant: string,\n  opts?: BadgeOptions,\n): string {\n  const cls = badgeClasses(category, variant, opts?.size);\n  const parts: string[] = [cls];\n  if (opts?.uppercase) parts.push('badge--uppercase');\n  if (opts?.extraClass) parts.push(opts.extraClass);\n\n  let attrStr = '';\n  if (opts?.attrs) {\n    attrStr = Object.entries(opts.attrs)\n      .map(([k, v]) => v === '' ? ` ${k}` : ` ${k}=\"${escapeAttr(v)}\"`)\n      .join('');\n  }\n\n  return `<span class=\"${parts.join(' ')}\"${attrStr}>${escapeHtml(text)}</span>`;\n}\n\n// ---------------------------------------------------------------------------\n// Boolean Chip\n// ---------------------------------------------------------------------------\n\nconst CHECK_ICON = '<svg class=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z\" clip-rule=\"evenodd\"/></svg>';\nconst X_ICON = '<svg class=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill-rule=\"evenodd\" d=\"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z\" clip-rule=\"evenodd\"/></svg>';\n\n/**\n * Returns an HTML string for a boolean chip with icon.\n *\n *   booleanChip(true)               → green chip with check icon + \"Yes\"\n *   booleanChip(false, {falseLabel: 'No'}) → gray chip with X icon + \"No\"\n */\nexport function booleanChip(\n  value: boolean,\n  opts?: { trueLabel?: string; falseLabel?: string },\n): string {\n  const label = value ? (opts?.trueLabel ?? 'Yes') : (opts?.falseLabel ?? 'No');\n  const variant = value ? 'boolean-true' : 'boolean-false';\n  const icon = value ? CHECK_ICON : X_ICON;\n  return `<span class=\"badge badge-${variant}\">${icon}${escapeHtml(label)}</span>`;\n}\n\n// ---------------------------------------------------------------------------\n// Escape Helpers\n// ---------------------------------------------------------------------------\n\nfunction escapeHtml(str: string): string {\n  return str\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;');\n}\n\nfunction escapeAttr(str: string): string {\n  return str\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;');\n}\n"],"names":["badgeClasses","category","variant","size","v","base","prefix","parts","badge","text","opts","attrStr","k","escapeAttr","escapeHtml","CHECK_ICON","X_ICON","booleanChip","value","label","str"],"mappings":"AAsCO,SAASA,EACdC,GACAC,GACAC,GACQ;AACR,QAAMC,IAAIF,EAAQ,YAAA,GAEZG,IAAOJ,MAAa,WAAW,iBACjCA,MAAa,SAAS,eACtB,SAEEK,IAASL,MAAa,WAAW,WACnCA,MAAa,SAAS,SACtB,SAEEM,IAAkB,CAACF,CAAI;AAC7B,SAAIF,MAAS,QAAMI,EAAM,KAAK,GAAGF,CAAI,MAAM,GAC3CE,EAAM,KAAK,GAAGD,CAAM,IAAIF,CAAC,EAAE,GACpBG,EAAM,KAAK,GAAG;AACvB;AAeO,SAASC,EACdC,GACAR,GACAC,GACAQ,GACQ;AAER,QAAMH,IAAkB,CADZP,EAAaC,GAAUC,GAASQ,GAAM,IAAI,CAC1B;AAC5B,EAAIA,GAAM,aAAWH,EAAM,KAAK,kBAAkB,GAC9CG,GAAM,cAAYH,EAAM,KAAKG,EAAK,UAAU;AAEhD,MAAIC,IAAU;AACd,SAAID,GAAM,UACRC,IAAU,OAAO,QAAQD,EAAK,KAAK,EAChC,IAAI,CAAC,CAACE,GAAGR,CAAC,MAAMA,MAAM,KAAK,IAAIQ,CAAC,KAAK,IAAIA,CAAC,KAAKC,EAAWT,CAAC,CAAC,GAAG,EAC/D,KAAK,EAAE,IAGL,gBAAgBG,EAAM,KAAK,GAAG,CAAC,IAAII,CAAO,IAAIG,EAAWL,CAAI,CAAC;AACvE;AAMA,MAAMM,IAAa,4VACbC,IAAS;AAQR,SAASC,EACdC,GACAR,GACQ;AACR,QAAMS,IAAQD,IAASR,GAAM,aAAa,QAAUA,GAAM,cAAc;AAGxE,SAAO,4BAFSQ,IAAQ,iBAAiB,eAEC,KAD7BA,IAAQH,IAAaC,CACiB,GAAGF,EAAWK,CAAK,CAAC;AACzE;AAMA,SAASL,EAAWM,GAAqB;AACvC,SAAOA,EACJ,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,MAAM,EACpB,QAAQ,MAAM,QAAQ;AAC3B;AAEA,SAASP,EAAWO,GAAqB;AACvC,SAAOA,EACJ,QAAQ,MAAM,OAAO,EACrB,QAAQ,MAAM,QAAQ;AAC3B;"}