@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .nav-item {
    @apply flex items-center gap-3 px-3 py-2 text-sidebar-text-muted no-underline rounded-lg text-sm transition-all duration-150;
  }

  .nav-item:hover {
    @apply bg-sidebar-bg-hover text-sidebar-text;
  }

  .nav-item.active {
    @apply bg-sidebar-bg-active text-sidebar-text;
  }

  /* Active state with 8px padding on collapsed sidebar */
  .sidebar[data-collapsed="true"] .nav-item.active {
    @apply mx-2;
  }

  .nav-item i {
    @apply text-base opacity-80;
  }

  .nav-item:hover i,
  .nav-item.active i {
    @apply opacity-100;
  }

  /* Badge styles */
  .badge-count {
    @apply ml-auto text-xs px-1.5 py-0.5 rounded bg-sidebar-bg-hover text-sidebar-text-dimmed font-medium;
  }

  .badge-new {
    @apply ml-auto text-[10px] px-2 py-0.5 rounded-full bg-purple-600 text-white font-medium uppercase tracking-wide;
  }

  /* Keyboard shortcut styles */
  kbd {
    @apply text-[11px] px-1.5 py-0.5 rounded bg-sidebar-bg-hover text-sidebar-text-dimmed font-mono border border-sidebar-border;
  }

  .sidebar {
    @apply transition-all duration-300;
  }

  .sidebar[data-collapsed="true"] {
    width: 64px !important;
  }

  /* Hide text elements when collapsed */
  .sidebar[data-collapsed="true"] .nav-text,
  .sidebar[data-collapsed="true"] .sidebar-user-info,
  .sidebar[data-collapsed="true"] kbd,
  .sidebar[data-collapsed="true"] .menu-group button span,
  .sidebar[data-collapsed="true"] #user-menu,
  .sidebar[data-collapsed="true"] .submenu,
  .sidebar[data-collapsed="true"] .submenu-indicator {
    @apply hidden;
  }

  /* Hide search when collapsed */
  .sidebar[data-collapsed="true"] .sidebar-search-container {
    @apply hidden;
  }

  /* Hide logo link and center toggle button when collapsed */
  .sidebar[data-collapsed="true"] .sidebar-header > a {
    @apply hidden;
  }

  .sidebar[data-collapsed="true"] .sidebar-toggle-btn {
    margin-left: 5px;
  }

  /* Center logo when collapsed */
  .sidebar[data-collapsed="true"] .sidebar-logo {
    @apply mx-auto max-w-8;
  }

  /* Center nav items when collapsed */
  .sidebar[data-collapsed="true"] .nav-item {
    @apply justify-center;
    width: 48px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 0;
    padding-right: 0;
  }

  /* Hide external link icons when collapsed */
  .sidebar[data-collapsed="true"] .nav-item .iconoir-open-new-window {
    @apply hidden;
  }

  /* Show ellipsis for group headers when collapsed */
  .sidebar[data-collapsed="true"] .menu-group button {
    @apply justify-center px-0 mx-0;
  }

  /* Center user profile when collapsed */
  .sidebar[data-collapsed="true"] .sidebar-bottom > div:last-child > div {
    @apply justify-center px-0;
  }

  /* Remove padding from bottom section when collapsed */
  .sidebar[data-collapsed="true"] .sidebar-bottom {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Remove padding from nav when collapsed */
  .sidebar[data-collapsed="true"] nav {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  .sidebar[data-collapsed="true"] .menu-group-ellipsis {
    @apply block;
  }

  .menu-group-ellipsis {
    @apply hidden;
  }

  /* Hide chevron and show only ellipsis when collapsed */
  .sidebar[data-collapsed="true"] .menu-group button i {
    @apply hidden;
  }

  .menu-group-title {
    @apply px-5 py-2 text-xs uppercase tracking-wider text-zinc-500 font-semibold transition-opacity duration-300;
  }

  .menu-separator {
    @apply border-t border-white/10 transition-opacity duration-300;
  }

  .submenu {
    @apply pl-5 space-y-1 overflow-hidden transition-all duration-300;
  }

  .submenu.collapsed {
    @apply max-h-0 opacity-0;
  }

  .submenu.expanded {
    @apply max-h-screen opacity-100;
  }

  .submenu-toggle .submenu-indicator {
    @apply ml-auto text-sm transition-transform duration-200;
  }

  .submenu-toggle[data-expanded="true"] .submenu-indicator {
    @apply rotate-180;
  }

  .btn {
    @apply inline-flex items-center gap-2 px-6 py-3 rounded-lg text-sm font-medium border-none cursor-pointer transition-all duration-200 no-underline;
  }

  .btn-primary {
    @apply bg-admin-dark text-white hover:bg-admin-light;
  }

  .btn-secondary {
    @apply bg-white text-admin-dark border border-gray-200 hover:bg-gray-50;
  }

  .btn-danger {
    @apply bg-red-500 text-white hover:bg-red-600;
  }

  .btn-sm {
    @apply px-3 py-2 text-xs;
  }

  /* Status Badge Base */
  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border;
  }

  /* Status Colors */
  .status-active {
    @apply bg-green-100 text-green-800 border-green-200;
  }

  .status-inactive {
    @apply bg-gray-100 text-gray-800 border-gray-200;
  }

  .status-suspended {
    @apply bg-orange-100 text-orange-800 border-orange-200;
  }

  .status-disabled {
    @apply bg-red-100 text-red-800 border-red-200;
  }

  .status-pending {
    @apply bg-yellow-100 text-yellow-800 border-yellow-200;
  }

  .status-published {
    @apply bg-green-100 text-green-800 border-green-200;
  }

  .status-draft {
    @apply bg-gray-100 text-gray-800 border-gray-200;
  }

  .status-archived {
    @apply bg-purple-100 text-purple-800 border-purple-200;
  }

  /* Role Badge Base */
  .role-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border;
  }

  /* Role Colors */
  .role-admin {
    @apply bg-red-100 text-red-900 border-red-200;
  }

  .role-editor {
    @apply bg-blue-100 text-blue-900 border-blue-200;
  }

  .role-member {
    @apply bg-purple-100 text-purple-900 border-purple-200;
  }

  .role-viewer {
    @apply bg-gray-100 text-gray-900 border-gray-200;
  }

  .role-guest {
    @apply bg-yellow-100 text-yellow-900 border-yellow-200;
  }

  /* Generic Badge (fallback) */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border;
  }
}
